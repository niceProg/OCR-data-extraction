<!DOCTYPE html>
<html lang="en">
     <head>
          <meta charset="UTF-8" />
          <title>OCR Result</title>
          <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet" />
          <style>
               pre {
                    white-space: pre-wrap;
                    word-wrap: break-word;
                    max-height: 300px;
                    overflow-y: auto;
               }
          </style>
     </head>
     <body class="bg-light">
          <div class="container py-5">
               <h2 class="mb-4 text-center">‚ú® OCR Result</h2>

               <div class="card shadow-sm mb-4">
                    <div class="card-header d-flex justify-content-between align-items-center">
                         <span>‚úÖ Cleaned OCR from: <b>{{ filename }}</b></span>
                         <div>
                              <button class="btn btn-sm btn-outline-secondary me-2" onclick="toggleExpand('cleaned_text')">üîΩ Expand</button>
                              <button class="btn btn-sm btn-outline-secondary" onclick="copyText('cleaned_text')">üìã Copy</button>
                         </div>
                    </div>
                    <div class="card-body">
                         <pre id="cleaned_text">{{ cleaned }}</pre>
                    </div>
               </div>

               <div class="text-center">
                    <a href="/" class="btn btn-secondary">‚¨ÖÔ∏è Back</a>
               </div>
          </div>

          <script>
               function copyText(id) {
                    const text = document.getElementById(id).innerText;
                    navigator.clipboard.writeText(text).then(() => {
                         alert("Copied to clipboard!");
                    });
               }
               function toggleExpand(id) {
                    const el = document.getElementById(id);
                    if (el.style.maxHeight === "none") {
                         el.style.maxHeight = "300px";
                         el.style.overflowY = "auto";
                    } else {
                         el.style.maxHeight = "none";
                         el.style.overflowY = "visible";
                    }
               }
          </script>
     </body>
</html>
